/* css/themes/theme_forest_shade.css - "Forest Shade"
   Deep forest, organic, sunny but shaded. */

@import url("../map.css");
@import url("../appMenu.css");
@import url("../register-map.base.css");
@import url("../register-map.desktop.css");
@import url("../stravaConnection.css");

:root {
  /* -- Palette (The Shade) -- */
  --forest-bg: #1A2621;      /* Deep Forest */
  --forest-surface: #25362E; /* Canopy Green */
  --forest-overlay: rgba(26, 38, 33, 0.95);
  
  /* -- Palette (The Sunlight) -- */
  --forest-gold: #F2C94C;    /* Sunlight Gold */
  --forest-gold-hover: #F5D575;
  --forest-gold-text: #1A2621;

  /* -- Palette (Text) -- */
  --forest-text: #F0F4F1;    /* Mist White */
  --forest-muted: #A3B8AD;   /* Lichen Grey */
  
  /* -- Palette (Accents) -- */
  --forest-border: #3A5245;  /* Moss Border */
  --forest-danger: #D97D54;  /* Warm Earth */

  /* -- Overrides -- */
  --page-bg: var(--forest-bg);
  --card-bg: var(--forest-surface);
  --card-border: var(--forest-border);
  --text-main: var(--forest-text);
  
  --card-radius: 16px;
  --btn-radius: 8px;
}

body {
  background-color: var(--page-bg);
  color: var(--text-main);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* -- Typography -- */
h1, h2, h3, .pre-existing-map-card__title {
  color: var(--forest-text);
  font-weight: 600;
  letter-spacing: -0.01em;
}

.pre-existing-map-card__meta, label {
  color: var(--forest-muted);
}

/* -- Controls -- */
.map-control-button,
.app-menu-toggle {
  background: rgba(26, 38, 33, 0.9) !important; /* Deep Forest with opacity */
  color: var(--forest-text) !important;
  border: 1px solid var(--forest-border) !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3) !important;
  border-radius: 50% !important; /* Circular FABs */
}

.map-control-button:hover,
.app-menu-toggle:hover {
  background: var(--forest-surface) !important;
  color: var(--forest-gold) !important;
}

.map-control-button.is-active {
  background: var(--forest-gold) !important;
  color: var(--forest-gold-text) !important;
  border-color: var(--forest-gold) !important;
}

/* -- Panels -- */
.map-selector-panel {
  background: var(--forest-overlay) !important;
  backdrop-filter: blur(8px);
  border-right: 1px solid var(--forest-border);
  color: var(--forest-text) !important;
}

.map-selector-search__input {
  background: rgba(0,0,0,0.2) !important;
  border: 1px solid var(--forest-border) !important;
  color: var(--forest-text) !important;
  border-radius: var(--btn-radius) !important;
}

.map-selector-search__input::placeholder {
  color: var(--forest-muted) !important;
}

.map-selector-list li {
  border-bottom: 1px solid var(--forest-border) !important;
}

.map-selector-list li:hover {
  background: rgba(255,255,255,0.05) !important;
}

.map-selector-item__name {
  color: var(--forest-text);
}

/* -- Register Map Overrides -- */
.card-panel {
  background: var(--forest-surface);
  border-color: var(--forest-border);
  box-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.registrationButton {
  background: var(--forest-gold);
  color: var(--forest-gold-text);
  font-weight: 600;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.registrationButton:hover {
  background: var(--forest-gold-hover);
  transform: translateY(-1px);
}

input[type="text"], textarea {
  background: rgba(0,0,0,0.2);
  border: 1px solid var(--forest-border);
  color: var(--forest-text);
}

input[type="text"]:focus, textarea:focus {
  border-color: var(--forest-gold);
  box-shadow: 0 0 0 2px rgba(242, 201, 76, 0.1);
}

.pre-existing-map-card {
  background: var(--forest-surface);
  border-color: var(--forest-border);
}

.pre-existing-map-card:hover {
  background: rgba(255,255,255,0.05);
}

.pre-existing-map-card--active {
  background: rgba(242, 201, 76, 0.1);
  border-color: var(--forest-gold);
}

/* =========================================
   LOGIN & STRAVA OVERRIDES
   ========================================= */

/* Shared */
input, button, .input, .button {
  border-radius: var(--btn-radius) !important;
}

.button--primary, button[type="submit"] {
  background: var(--forest-gold) !important;
  color: var(--forest-gold-text) !important;
  border: none !important;
}

.button--secondary {
  background: transparent !important;
  border: 1px solid var(--forest-border) !important;
  color: var(--forest-text) !important;
}

/* Login */
.login-container {
  background: var(--forest-surface) !important;
  border: 1px solid var(--forest-border);
  color: var(--forest-text) !important;
}

.login-container input {
  background: rgba(0,0,0,0.2) !important;
  border-color: var(--forest-border) !important;
  color: var(--forest-text) !important;
}

/* Strava */
body.strava-connection {
  background: var(--forest-bg) !important;
  color: var(--forest-text) !important;
}

.strava-connection .card {
  background: var(--forest-surface) !important;
  border: 1px solid var(--forest-border) !important;
}

.strava-connection .pill, .strava-connection .pill-toggle {
  background: rgba(0,0,0,0.2) !important;
  border: 1px solid var(--forest-border) !important;
  color: var(--forest-muted) !important;
}

.strava-connection .pill--active, .strava-connection .pill-toggle--active {
  background: var(--forest-gold) !important;
  color: var(--forest-gold-text) !important;
  border-color: var(--forest-gold) !important;
}

.strava-connection .list-item {
  background: transparent !important;
  border-bottom: 1px solid var(--forest-border) !important;
}

.strava-connection .list-item__title { color: var(--forest-text) !important; }

